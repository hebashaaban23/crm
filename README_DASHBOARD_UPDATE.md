# ØªØ­Ø¯ÙŠØ« Dashboard - CRM Dashboard Update

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© / Overview

ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Dashboard Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ Frappe CRM Ù„ÙŠØ¹Ø±Ø¶:
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Leads
- Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Leads Ø§Ù„Ù…ØªØ£Ø®Ø±Ø© (Delayed)
- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Deals
- Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Leads Ù„ÙƒÙ„ Status (New, Contacted, Nurture, Qualified, Unqualified, Junk)
- Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© (Donut Chart Ùˆ Bar Chart)

---

## âœ… Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„ØªÙŠ ØªÙ… Ø¥Ø¬Ø±Ø§Ø¤Ù‡Ø§ / Changes Made

### 1. Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¹Ø¯Ù„Ø© / Modified Files:

#### `/crm/api/dashboard.py`
ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ©:

**Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
- `get_delayed_leads()` - Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Leads Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©
- `get_total_deals()` - Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù€ Deals
- `get_leads_by_status()` - Ø¨ÙŠØ§Ù†Ø§Øª Donut Chart
- `get_leads_by_status_chart()` - Ø¨ÙŠØ§Ù†Ø§Øª Bar Chart

**Ø¯ÙˆØ§Ù„ ÙƒÙ„ Status:**
- `get_new_leads()` - Ø¹Ø¯Ø¯ New Leads
- `get_contacted_leads()` - Ø¹Ø¯Ø¯ Contacted Leads
- `get_nurture_leads()` - Ø¹Ø¯Ø¯ Nurture Leads
- `get_qualified_leads()` - Ø¹Ø¯Ø¯ Qualified Leads
- `get_unqualified_leads()` - Ø¹Ø¯Ø¯ Unqualified Leads
- `get_junk_leads()` - Ø¹Ø¯Ø¯ Junk Leads

#### `/crm/fcrm/doctype/crm_dashboard/crm_dashboard.py`
ØªÙ… ØªØ­Ø¯ÙŠØ« Layout Ø§Ù„Ù€ Dashboard Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ.

---

## ğŸš€ ÙƒÙŠÙÙŠØ© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª / How to Apply Changes

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§) / Method 1 (Recommended):

```bash
cd /home/frappe/frappe-bench-env/frappe-bench/apps/crm
./apply_dashboard_changes.sh [Ø§Ø³Ù…_Ø§Ù„Ù…ÙˆÙ‚Ø¹]
```

**Ù…Ø«Ø§Ù„ / Example:**
```bash
./apply_dashboard_changes.sh Trust.com
```

Ø£Ùˆ / Or:
```bash
./apply_dashboard_changes.sh jossoor.local
```

---

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© / Method 2:

Ø§Ø³ØªØ®Ø¯Ø§Ù… bench console:

```bash
cd /home/frappe/frappe-bench-env/frappe-bench
bench --site [Ø§Ø³Ù…_Ø§Ù„Ù…ÙˆÙ‚Ø¹] console
```

Ø«Ù… ÙÙŠ Ø§Ù„Ù€ console:

```python
from crm.fcrm.doctype.crm_dashboard.crm_dashboard import create_default_manager_dashboard
create_default_manager_dashboard(force=True)
frappe.db.commit()
exit()
```

---

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© / Method 3:

Ù…Ù† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:

1. Ø£Ø¹Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù€ bench:
```bash
bench restart
```

2. Ø§ÙØªØ­ Dashboard ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
3. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Edit" (ÙŠØªØ·Ù„Ø¨ System Manager)
4. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Reset to default"
5. Ø­Ø¯Ù‘Ø« Ø§Ù„ØµÙØ­Ø©

---

## ğŸ“Š ØªØ®Ø·ÙŠØ· Dashboard Ø§Ù„Ø¬Ø¯ÙŠØ¯ / New Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total Leads â”‚ Delayed      â”‚ Total Deals â”‚ New Leads  â”‚
â”‚             â”‚ Leads        â”‚             â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Contacted   â”‚ Nurture      â”‚ Qualified   â”‚Unqualified â”‚
â”‚ Leads       â”‚ Leads        â”‚ Leads       â”‚ Leads      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Junk Leads  â”‚  Donut Chart             â”‚  Bar Chart  â”‚
â”‚             â”‚  (Leads by Status)       â”‚  (Status)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Ø§Ù„Ù…ÙŠØ²Ø§Øª / Features

### 1. Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© / Number Cards
- Ø¹Ø±Ø¶ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© / Show current value
- Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© / Compare with previous period
- Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ù„Ù„ØªØºÙŠÙŠØ± / Percentage change
- Ø³Ù‡Ù… Ø£Ø®Ø¶Ø± Ù„Ù„Ø²ÙŠØ§Ø¯Ø©ØŒ Ø£Ø­Ù…Ø± Ù„Ù„Ù†Ù‚ØµØ§Ù† / Green arrow for increase, red for decrease

### 2. Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© / Charts

**Donut Chart:**
- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù€ Leads Ø­Ø³Ø¨ Status
- Ø¹Ø±Ø¶ ØªÙØ§Ø¹Ù„ÙŠ Ù…Ø¹ Ø§Ù„Ø£Ù„ÙˆØ§Ù†
- ÙŠÙ…ÙƒÙ† Ø§Ù„Ù†Ù‚Ø± Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„

**Bar Chart:**
- Ù…Ù‚Ø§Ø±Ù†Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Leads Ù„ÙƒÙ„ Status
- Ø³Ù‡Ù„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
- ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Position

### 3. Ø§Ù„ØªØµÙÙŠØ© / Filtering

ÙŠÙ…ÙƒÙ† ØªØµÙÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø¨:
- **Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©:** Last 7, 30, 60, 90 days Ø£Ùˆ Custom Range
- **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:** Sales User Ù…Ø¹ÙŠÙ†

---

## âš™ï¸ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª / Requirements

1. Ø­Ù‚Ù„ `delayed` ÙÙŠ CRM Lead (Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ âœ“)
2. Ø§Ù„Ù€ Statuses Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©:
   - New
   - Contacted
   - Nurture
   - Qualified
   - Unqualified
   - Junk

---

## ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª / Testing

Ø¨Ø¹Ø¯ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§ØªØŒ ØªØ­Ù‚Ù‚ Ù…Ù†:

- [ ] Ø¸Ù‡ÙˆØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© (11 Ø¨Ø·Ø§Ù‚Ø©)
- [ ] Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØµØ­ÙŠØ­Ø©
- [ ] Ø¸Ù‡ÙˆØ± Donut Chart Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
- [ ] Ø¸Ù‡ÙˆØ± Bar Chart Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
- [ ] Ø¹Ù…Ù„ ÙÙ„ØªØ±Ø© Date Range
- [ ] Ø¹Ù…Ù„ ÙÙ„ØªØ±Ø© User
- [ ] Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
- [ ] Ø§Ù„Ø£Ù„ÙˆØ§Ù† ØªØ·Ø§Ø¨Ù‚ Status colors

---

## ğŸ”§ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ / Troubleshooting

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ù„Ø§ ØªØ¸Ù‡Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
**Ø§Ù„Ø­Ù„:**
```bash
bench restart
# Ø«Ù… Ø­Ø¯Ù‘Ø« Ø§Ù„ØµÙØ­Ø© ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
```

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ØºÙŠØ± ØµØ­ÙŠØ­Ø©
**Ø§Ù„Ø­Ù„:**
- ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø¬Ø¯Ø§ÙˆÙ„ CRM Lead Ùˆ CRM Deal
- ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ±Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Permission Denied
**Ø§Ù„Ø­Ù„:**
- ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Sales User Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
- Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ ØªØ­ØªØ§Ø¬ ØµÙ„Ø§Ø­ÙŠØ© System Manager

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Charts Ù„Ø§ ØªØ¸Ù‡Ø±
**Ø§Ù„Ø­Ù„:**
```bash
bench build --app crm
bench restart
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© / Additional Notes

1. **Ø§Ù„Ø£Ø¯Ø§Ø¡:** Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…Ø­Ø³Ù‘Ù†Ø© Ù„Ù„Ø£Ø¯Ø§Ø¡
2. **Ø§Ù„ØªÙˆØ§ÙÙ‚:** Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø¥ØµØ¯Ø§Ø±Ø§Øª Frappe Ø§Ù„Ø­Ø¯ÙŠØ«Ø©
3. **Ø§Ù„ØªØ®ØµÙŠØµ:** ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ©/Ø­Ø°Ù/ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ù…Ù† Edit mode
4. **Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª:** ØªØ­ØªØ±Ù… ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Sales User/Manager)

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù… / Support

ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ù…Ø´Ø§ÙƒÙ„:

1. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù€ error logs:
```bash
tail -f /home/frappe/frappe-bench-env/frappe-bench/sites/[site]/logs/web.error.log
```

2. Ø§ÙØ­Øµ console ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ (F12)

3. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙˆØ¯:
```bash
cd /home/frappe/frappe-bench-env/frappe-bench/apps/crm
git status
```

---

## ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® / Date

**ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** 30 Ù†ÙˆÙÙ…Ø¨Ø± 2025  
**Created:** November 30, 2025

**Ø§Ù„Ù†Ø³Ø®Ø©:** 1.0  
**Version:** 1.0

---

## âœ¨ Ø§Ù„Ø®Ù„Ø§ØµØ© / Summary

ØªÙ… Ø¨Ù†Ø¬Ø§Ø­ ØªØ¹Ø¯ÙŠÙ„ Dashboard Ù„ÙŠØ¹Ø±Ø¶:
- âœ… Ø¥Ø¬Ù…Ø§Ù„ÙŠ Leads
- âœ… Delayed Leads
- âœ… Ø¥Ø¬Ù…Ø§Ù„ÙŠ Deals  
- âœ… 6 Ø¨Ø·Ø§Ù‚Ø§Øª Ù„ÙƒÙ„ Status
- âœ… Donut Chart
- âœ… Bar Chart

**Ù„Ù„ØªØ·Ø¨ÙŠÙ‚:**
```bash
cd /home/frappe/frappe-bench-env/frappe-bench/apps/crm
./apply_dashboard_changes.sh [site_name]
```

**Ø«Ù… Ø­Ø¯Ù‘Ø« Ø§Ù„Ù…ØªØµÙØ­! ğŸ‰**

---

Made with â¤ï¸ for Frappe CRM

